namespace = dtf_earth_origin

#############################################
# Technology - Start
#############################################

country_event = {
	id = dtf_earth_origin.001
	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		has_origin = origin_earth_2200
	}

	immediate = {
		capital_scope = {
			
			clear_blockers = yes
			clear_deposits = yes
			remove_all_districts = yes
	
			generate_earth_2200_deposits_and_blockers = yes

			remove_building = building_research_lab_1
			remove_building = building_commercial_zone

			if = {
				limit = { root = { is_machine_empire = yes } }

				root = {
					set_country_flag = can_use_dtf_tech
					give_technology = { tech = tech_dtf_pretech message = no }
					give_technology = { tech = tech_dtf_weapons_1 message = no }
					give_technology = { tech = tech_dtf_armor_1 message = no }
					give_technology = { tech = tech_dtf_shield_1 message = no }
					give_technology = { tech = tech_dtf_reactor_1 message = no }
					give_technology = { tech = tech_robotic_workers message = no }
				}

				add_district = district_dtf_earth_2200_housing
				add_district = district_dtf_earth_2200_science
				add_district = district_dtf_earth_2200_science
				add_district = district_dtf_earth_2200_foundry_industry
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_mining

			}
			else_if = {
				limit = { root = { is_hive_empire = yes } }

				root = {
					set_country_flag = can_use_dtf_tech
					give_technology = { tech = tech_dtf_pretech message = no }
					give_technology = { tech = tech_dtf_weapons_1 message = no }
					give_technology = { tech = tech_dtf_armor_1 message = no }
					give_technology = { tech = tech_dtf_shield_1 message = no }
					give_technology = { tech = tech_dtf_reactor_1 message = no }
					give_technology = { tech = tech_robotic_workers message = no }
				}

				add_district = district_dtf_earth_2200_housing
				add_district = district_dtf_earth_2200_science
				add_district = district_dtf_earth_2200_science
				add_district = district_dtf_earth_2200_foundry_industry
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_mining
				add_district = district_dtf_earth_2200_farming

			}
			else = {
				#limit = { root = { is_regular_empire = yes } }
				
				root = {
					set_country_flag = can_use_dtf_tech
					give_technology = { tech = tech_dtf_pretech message = no }
					give_technology = { tech = tech_dtf_weapons_1 message = no }
					give_technology = { tech = tech_dtf_armor_1 message = no }
					give_technology = { tech = tech_dtf_shield_1 message = no }
					give_technology = { tech = tech_dtf_reactor_1 message = no }
					give_technology = { tech = tech_robotic_workers message = no }
				}

				add_district = district_dtf_earth_2200_housing
				add_district = district_dtf_earth_2200_science
				add_district = district_dtf_earth_2200_foundry_industry
				add_district = district_dtf_earth_2200_civilian_industry
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_mining
				add_district = district_dtf_earth_2200_farming
				#add_district = district_dtf_earth_2200_leisure
			}

			solar_system = {
				earth_2200_mars_setup = yes
			}
		}
	}
}




### game start
country_event = {
	id = dtf_earth_origin.201
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		graphical_culture = EarthDefenseForce_01
	}

	immediate = {
		give_technology = { tech = tech_dtf_check_edf_shipset message = no }
	}
}

country_event = {
	id = dtf_earth_origin.202
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		graphical_culture = EarthDefenseForce_01
		NOT = { has_global_flag = has_nsc_active }
		has_country_flag = flag_PEDF_ship_active
	}

	immediate = {
		give_technology = { tech = tech_dtf_check_nsc_no message = no }
	}
}

country_event = {
	id = dtf_earth_origin.203
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		graphical_culture = EarthDefenseForce_01
		has_global_flag = has_nsc_active
		has_country_flag = flag_PEDF_ship_active
	}

	immediate = {
		give_technology = { tech = tech_dtf_check_nsc_yes message = no }
	}
}

#############################################
# Country Events
#############################################

country_event = {
	id = dtf_earth_origin.011
	title = "eu_origin.11.name"
	desc = "eu_origin.11.desc"
	picture = GFX_evt_ship_travel
	show_sound = event_laboratory_sound
	is_triggered_only = yes
	
	trigger = {
		has_origin = origin_earth_2200
	}

	option = {
		name = dtf_earth_origin.011.a
	}

	option = {
		name = dtf_earth_origin.011.b

		capital_scope = {

			#remove_building = building_bureaucratic_1
			add_building = building_dtf_defense_command_1
			add_building = building_dtf_factory_1
			add_building = building_dtf_energy_plant_1
			add_building = building_dtf_mining_plant_1
			set_planet_flag = dtf_factory_built_1

			if = {
				limit = { root = { is_machine_empire = yes } }

				add_district = district_dtf_earth_2200_housing
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_mining

			}
			else_if = {
				limit = { root = { is_hive_empire = yes } }

				add_district = district_dtf_earth_2200_housing
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_mining
				add_district = district_dtf_earth_2200_farming

			}
			else = {
				#limit = { root = { is_regular_empire = yes } }

				add_district = district_dtf_earth_2200_housing
				add_district = district_dtf_earth_2200_energy
				add_district = district_dtf_earth_2200_mining
				add_district = district_dtf_earth_2200_farming
			}


		}
	}
}


country_event = {
	id = dtf_earth_origin.301
	#title = "eu_origin.301.name"
	#desc = "eu_origin.301.desc"
	#picture = GFX_evt_ship_travel
	#show_sound = event_laboratory_sound

	hide_window = yes
	is_triggered_only = yes
	
	trigger = {
		graphical_culture = EarthDefenseForce_01
		has_origin = origin_earth_2200
		has_country_flag = has_edf_mod
	}

	immediate = {

		capital_scope = {
       		save_event_target_as = dtf_earth_origin_capital
     		}
		#save_event_target_as = dtf_earth_origin_owner
		
		if = {
			limit = { has_global_flag = has_nsc_active }

			event_target:dtf_earth_origin_capital = {
				#dtf_spawn_yamato_class_ship = yes
				dtf_spawn_yamato_class_ship_nsc = yes
			}

		}
		else = {
			event_target:dtf_earth_origin_capital = {
				dtf_spawn_yamato_class_ship = yes
				#dtf_spawn_yamato_class_ship_nsc = yes
			}
		}
		#}
		set_country_flag = dtf_build_yamato_flag
	}
}

